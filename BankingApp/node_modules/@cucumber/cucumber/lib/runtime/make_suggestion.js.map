{"version":3,"file":"make_suggestion.js","sourceRoot":"","sources":["../../src/runtime/make_suggestion.ts"],"names":[],"mappings":";;AAsBA,wCAqBC;AA3CD,iDAK2B;AAE3B,kDAAkD;AAElD,SAAS,8BAA8B,CAAC,IAAqB;IAC3D,QAAQ,IAAI,EAAE,CAAC;QACb,KAAK,yBAAc,CAAC,OAAO;YACzB,OAAO,qBAAW,CAAC,YAAY,CAAA;QACjC,KAAK,yBAAc,CAAC,MAAM;YACxB,OAAO,qBAAW,CAAC,KAAK,CAAA;QAC1B,KAAK,yBAAc,CAAC,OAAO;YACzB,OAAO,qBAAW,CAAC,OAAO,CAAA;QAC5B;YACE,OAAO,qBAAW,CAAC,YAAY,CAAA;IACnC,CAAC;AACH,CAAC;AAED,SAAgB,cAAc,CAAC,EAC7B,KAAK,EACL,cAAc,EACd,UAAU,GAKX;IACC,MAAM,WAAW,GAAG,8BAA8B,CAAC,UAAU,CAAC,IAAI,CAAC,CAAA;IACnE,MAAM,KAAK,GAAG,cAAc,CAAC,aAAa,CAAC,EAAE,WAAW,EAAE,UAAU,EAAE,CAAC,CAAA;IACvE,MAAM,QAAQ,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACpC,IAAI;QACJ,QAAQ,EAAE,YAAY;KACvB,CAAC,CAAC,CAAA;IAEH,OAAO;QACL,EAAE,EAAE,KAAK,EAAE;QACX,YAAY,EAAE,UAAU,CAAC,EAAE;QAC3B,QAAQ;KACT,CAAA;AACH,CAAC","sourcesContent":["import {\n  IdGenerator,\n  PickleStep,\n  PickleStepType,\n  Suggestion,\n} from '@cucumber/messages'\nimport StepDefinitionSnippetBuilder from '../formatter/step_definition_snippet_builder'\nimport { KeywordType } from '../formatter/helpers'\n\nfunction mapPickleStepTypeToKeywordType(type?: PickleStepType): KeywordType {\n  switch (type) {\n    case PickleStepType.CONTEXT:\n      return KeywordType.Precondition\n    case PickleStepType.ACTION:\n      return KeywordType.Event\n    case PickleStepType.OUTCOME:\n      return KeywordType.Outcome\n    default:\n      return KeywordType.Precondition\n  }\n}\n\nexport function makeSuggestion({\n  newId,\n  snippetBuilder,\n  pickleStep,\n}: {\n  newId: IdGenerator.NewId\n  snippetBuilder: StepDefinitionSnippetBuilder\n  pickleStep: PickleStep\n}): Suggestion {\n  const keywordType = mapPickleStepTypeToKeywordType(pickleStep.type)\n  const codes = snippetBuilder.buildMultiple({ keywordType, pickleStep })\n  const snippets = codes.map((code) => ({\n    code,\n    language: 'javascript',\n  }))\n\n  return {\n    id: newId(),\n    pickleStepId: pickleStep.id,\n    snippets,\n  }\n}\n"]}